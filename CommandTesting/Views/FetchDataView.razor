@page "/fetchdata"
@inherits ReactiveComponentBase<FetchDataViewModel>

<Heading Size="HeadingSize.Is1">Weather forecast</Heading>

<Paragraph>This component demonstrates fetching data from a service.</Paragraph>

@if (ViewModel.Forecasts == null)
{
    <Paragraph><em>Loading...</em></Paragraph>
}
else
{
    <Table>
        <TableHeader>
            <TableHeaderCell>Date</TableHeaderCell>
            <TableHeaderCell>Temp. (C)</TableHeaderCell>
            <TableHeaderCell>Temp. (F)</TableHeaderCell>
            <TableHeaderCell>Summary</TableHeaderCell>
        </TableHeader>
        <TableBody>
            @foreach (var forecast in ViewModel.Forecasts)
            {
                <TableRow>
                    <TableRowCell>@forecast.Date.ToShortDateString()</TableRowCell>
                    <TableRowCell>@forecast.TemperatureC</TableRowCell>
                    <TableRowCell>@forecast.TemperatureF</TableRowCell>
                    <TableRowCell>@forecast.Summary</TableRowCell>
                </TableRow>
            }
        </TableBody>
    </Table>
}